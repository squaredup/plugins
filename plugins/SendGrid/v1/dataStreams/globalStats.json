{
    "name": "globalStats",
    "displayName": "Global Stats",
    "baseDataSourceName": "httpRequestUnscoped",
    "config": {
        "httpMethod": "get",
        "paging": {
            "mode": "none"
        },
        "expandInnerObjects": true,
        "endpointPath": "/stats",
        "getArgs": [
            {
                "key": "start_date",
                "value": "{{timeframe.start.substring(0,10)}}"
            },
            {
                "key": "end_date",
                "value": "{{timeframe.end.substring(0,10)}}"
            },
            {
                "key": "aggregated_by",
                "value": "{{aggregated_by}}"
            },
            {
                "key": "limit",
                "value": "1000"
            }
        ],
        "headers": []
    },
    "ui": [
        {
            "name": "aggregated_by",
            "type": "autocomplete",
            "label": "Aggregate by",
            "validation": {
                "required": true
            },
            "allowCustomValues": false,
            "isMulti": false,
            "defaultValue": "day",
            "data": {
                "source": "fixed",
                "values": [
                    {
                        "value": "day",
                        "label": "Day"
                    },
                    {
                        "value": "week",
                        "label": "Week"
                    },
                    {
                        "value": "month",
                        "label": "Month"
                    }
                ]
            }
        }
    ],
    "metadata": [
        {
            "shape": [
                "date",
                {
                    "timeZone": "Etc/UTC"
                }
            ],
            "name": "date"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.blocks"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.bounce_drops"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.bounces"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.clicks"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.deferred"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.delivered"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.invalid_emails"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.opens"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.processed"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.requests"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.spam_report_drops"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.spam_reports"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.unique_clicks"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.unique_opens"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.unsubscribe_drops"
        },
        {
            "shape": [
                "number",
                {
                    "decimalPlaces": 0
                }
            ],
            "name": "stats.0.metrics.unsubscribes"
        },
        {
            "pattern": ".*"
        }
    ],
    "timeframes": true
}