{
    "name": "linesStatus",
    "displayName": "Line Status",
    "baseDataSourceName": "httpRequestScoped",
    "matches": {
        "sourceType": {
            "type": "equals",
            "value": "line"
        }
    },
    "config": {
        "httpMethod": "get",
        "endpointPath": "/Line/{{objects.map((n) => n.lineId).join()}}/Status",
        "getArgs": [],
        "headers": [],
        "postRequestScript": "lineStatus.js"
    },
    "supportsNoneTimeframe": true,
    "defaultTimeframe": "none",
    "manualConfigApply": true,
    "rowPath": [],
    "metadata": [
        {
            "name": "link",
            "valueExpression": "{{ $['status'] !== 'success' ? `https://tfl.gov.uk/tube-dlr-overground/status/#${$['id']}` : '' }}",
            "shape": [
                "url",
                {
                    "label": ""
                }
            ],
            "computed": true,
            "displayName": "Link"
        },
        {
            "pattern": ".*"
        }
    ],
    "defaultShaping": {
        "sort": {
            "by": [["name", "asc"]]
        }
    }
}